{"mappings":"imBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,sNCAzD,IAAAC,EAAAJ,EAAA,S,8BCIO,SAASK,EAAkBC,GAChC,OAAOA,EACJC,KACC,EAACC,cAAEA,EAAaC,QAAEA,GAAWC,IAC3B,6EACoCF,oDACDC,oEACiBC,wbAOWC,uHAKjEC,KAAK,G,CCvBXD,EAAiB,IAAAE,IAAoBb,EAAA,SAAAc,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WFM5F,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,sBAC7BC,aAAcF,SAASC,cAAc,uBAIvC,IAAIE,EAAiB,GAMd,SAASC,EAAwBnB,GACtCkB,EAAiBlB,EACjBa,EAAKC,KAAKM,UAAY,GAEK,IAAvBpB,EAAYV,OACduB,EAAKI,aAAaI,UAAUC,OAAO,cAEnCT,EAAKI,aAAaI,UAAUE,IAAI,aAChCV,EAAKC,KAAKU,mBAAmB,YAAazB,EAAkBC,IAC5DyB,EACE,iCACAzB,EACA0B,EAAAC,uBAEFF,EACE,+BACAzB,EACA4B,G,CAKN,SAASH,EAAiBI,EAAUC,EAAUC,GAC5ChB,SAASiB,iBAAiBH,GAAUI,SAAQC,IAC1CA,EAAKC,iBAAiB,SAASC,IAC7B,MAAMhC,EAAQiC,OAAOD,EAAEE,OAAOC,WAAWC,QAAQpC,OACjD2B,EAASD,EAAS1B,GAAO,GACzB,G,CAIN,SAASwB,EAAoBa,GACzB3C,EAAA4C,eAAeC,YAvCS,UAuCwBF,GAChD,MAAMrC,EAAQc,EAAe0B,WAAUV,GAAQA,EAAKW,eAAiBJ,EAAWI,gBAClE,IAAVzC,IACAc,EAAe4B,OAAO1C,EAAO,GAC7Be,EAAwBD,G,CAIhCC,EA3CSrB,EAAA4C,eAAeK,SAJI","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-a1d61675c471739f.js","src/js/favoriteingredients.js","src/js/ingredientmarkup.js","node_modules/@parcel/runtime-js/lib/runtime-44e7bd74d9a8b620.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"bEh95\\\":\\\"favingredients.20813554.js\\\",\\\"8OQ7p\\\":\\\"icons.9a626274.svg\\\",\\\"4n2Z5\\\":\\\"favingredients.092b2fc0.js\\\",\\\"1fB4g\\\":\\\"favingredients.0efdf02f.js\\\"}\"));","'use strict';\nimport { localFavorites } from './localfavorites';\nimport { header } from './header';\nimport { modalingredients, showIngredientDetails } from './modalingredients';\nimport { ingredientsMarkup } from './ingredientmarkup';\n\nconst refs = {\n  list: document.querySelector('.ingredients__list'),\n  notFoundText: document.querySelector('.ingredients__text'),\n};\n\nconst FAV_INGREDIENTS_KEY = 'favingr';\nlet favIngredients = [];\n\nexport function getFavoriteIngredients() {\n  return localFavorites.getLocal(FAV_INGREDIENTS_KEY);\n}\n\nexport function showFavoriteIngredients(ingredients) {\n  favIngredients = ingredients;\n  refs.list.innerHTML = '';\n\n  if (ingredients.length === 0) {\n    refs.notFoundText.classList.remove('is-hidden');\n  } else {\n    refs.notFoundText.classList.add('is-hidden');\n    refs.list.insertAdjacentHTML('beforeend', ingredientsMarkup(ingredients));\n    addOnClickEvents(\n      'button.ingredients__learn-more',\n      ingredients,\n      showIngredientDetails\n    );\n    addOnClickEvents(\n      'button.ingredients__favorite',\n      ingredients,\n      removeFromFavorites\n    );\n  }\n}\n\nfunction addOnClickEvents(selector, elements, callback) {\n  document.querySelectorAll(selector).forEach(elem => {\n    elem.addEventListener('click', e => {\n      const index = Number(e.target.parentNode.dataset.index);\n      callback(elements[index]);\n    });\n  });\n}\n\nfunction removeFromFavorites(ingredient) {\n    localFavorites.removeLocal(FAV_INGREDIENTS_KEY, ingredient);\n    const index = favIngredients.findIndex(elem => elem.idIngredient === ingredient.idIngredient);\n    if (index !== -1) {\n        favIngredients.splice(index, 1);\n        showFavoriteIngredients(favIngredients);\n    }\n}\n\nshowFavoriteIngredients(getFavoriteIngredients());\n","'use strict';\n\nimport * as icons from '../images/icons.svg';\n\nexport function ingredientsMarkup(ingredients) {\n  return ingredients\n    .map(\n      ({ strIngredient, strType }, index) =>\n        `<li class=\"ingredients__item\">\n            <h3 class=\"ingredients__name\">${strIngredient}</h3>\n            <p class=\"ingredients__type\">${strType}</p>\n            <div class=\"ingredients__buttons\" data-index=\"${index}\">\n                <button type=\"button\" class=\"ingredients__learn-more\" >\n                    Learn more\n                </button>\n                <button type=\"button\" class=\"ingredients__favorite\">\n                    <span class=\"ingredients__favorite-text\">Remove</span>\n                    <svg class=\"ingredients__favorite-icon\" width=\"18\" height=\"18\">\n                        <use class=\"ingredients__favorite-svg\" href=\"${icons}#icon-heart\"></use>\n                    </svg>\n                </button>\n            </div>\n            </li>`\n    ).join('');\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8OQ7p\")).toString();"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$6JFXQ","$7fd825cff6f11a3b$export$ef84ea629dba8936","ingredients","map","strIngredient","strType","index","$e27edc6dc33d0133$exports","join","URL","resolve","import","meta","url","toString","$c5c7c848f53bd6a9$var$refs","list","document","querySelector","notFoundText","$c5c7c848f53bd6a9$var$favIngredients","$c5c7c848f53bd6a9$export$8eb2274701f85f95","innerHTML","classList","remove","add","insertAdjacentHTML","$c5c7c848f53bd6a9$var$addOnClickEvents","$kpUQZ","showIngredientDetails","$c5c7c848f53bd6a9$var$removeFromFavorites","selector","elements","callback","querySelectorAll","forEach","elem","addEventListener","e","Number","target","parentNode","dataset","ingredient","localFavorites","removeLocal","findIndex","idIngredient","splice","getLocal"],"version":3,"file":"favingredients.20813554.js.map"}