{"mappings":"6mBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,uCC2BT,IAAAE,E,6EA5CA,IAAIC,EAAY,GA6BhB,SAASC,EAAWC,GAClB,OAAQ,GAAKA,GAAKC,QAAO,+DAAiE,MAAQ,G,CAcpGJ,EA1CA,SAA4BH,GAC1B,IAAIQ,EAAQJ,EAAUJ,GAOtB,OALKQ,IACHA,EAOJ,WACE,IACE,MAAM,IAAIN,K,CACV,MAAOO,GACP,IAAIC,GAAW,GAAKD,EAAIE,OAAOC,MAAK,yDAEpC,GAAIF,EAGF,OAAOL,EAAWK,EAAQ,G,CAI9B,MAAO,G,CApBGG,GACRT,EAAUJ,GAAMQ,GAGXA,C,KCZTM,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,sNCAzD,IAAAC,EAAAJ,EAAA,S,8BCIO,SAASK,EAAkBC,GAChC,OAAOA,EACJC,KACC,SAAAC,EAA6BC,G,IAA1BC,EAAaF,EAAbE,cAAeC,EAAOH,EAAPG,Q,MAChB,6EAEmCC,OADCF,EAAc,oDAEEE,OADjBD,EAAQ,oEAQoBC,OAPXH,EAAM,wbAOWG,OAANC,EAAM,oH,IAKvEC,KAAK,G,CCvBXD,EAAiBb,EAAA,SAAAe,aAA6C,SAAWf,EAAA,SAAAgB,QAA6C,SFMtH,IAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,sBAC7BC,aAAcF,SAASC,cAAc,uBAGjCE,EAAsB,UACxBC,EAAiB,GAMd,SAASC,EAAwBlB,GACtCiB,EAAiBjB,EACjBW,EAAKC,KAAKO,UAAY,GAEK,IAAvBnB,EAAYrB,OACdgC,EAAKI,aAAaK,UAAUC,OAAO,cAEnCV,EAAKI,aAAaK,UAAUE,IAAI,aAChCX,EAAKC,KAAKW,mBAAmB,YAAaxB,EAAkBC,IAC5DwB,EACE,iCACAxB,EACAyB,EAAAC,uBAEFF,EACE,+BACAxB,EACA2B,G,CAKN,SAASH,EAAiBI,EAAUC,EAAUC,GAC5CjB,SAASkB,iBAAiBH,GAAUI,SAAQ,SAAAC,GAC1CA,EAAKC,iBAAiB,SAAS,SAAAC,GAC7B,IAAMhC,EAAQiC,OAAOD,EAAEE,OAAOC,WAAWC,QAAQpC,OACjD2B,EAASD,EAAS1B,G,OAKxB,SAASwB,EAAoBa,GACzB1C,EAAA2C,eAAeC,YAAY1B,EAAqBwB,GAChD,IAAMrC,EAAQc,EAAe0B,WAAU,SAAAV,G,OAAQA,EAAKW,eAAiBJ,EAAWI,Y,KAClE,IAAVzC,IACAc,EAAe4B,OAAO1C,EAAO,GAC7Be,EAAwBD,G,CAIhCC,EA3CSpB,EAAA2C,eAAeK,SAAS9B,G","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-4644f4aea376fd10.js","src/js/favoriteingredients.js","src/js/ingredientmarkup.js","node_modules/@parcel/runtime-js/lib/runtime-5e1545eca7caf3c1.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"gr994\\\":\\\"favingredients.26bb4bcf.js\\\",\\\"410VS\\\":\\\"icons.9a626274.svg\\\",\\\"iRDdT\\\":\\\"favingredients.c044137d.js\\\",\\\"krsDm\\\":\\\"favingredients.331c44bd.js\\\"}\"));","'use strict';\nimport { localFavorites } from './localfavorites';\nimport { header } from './header';\nimport { modalingredients, showIngredientDetails } from './modalingredients';\nimport { ingredientsMarkup } from './ingredientmarkup';\n\nconst refs = {\n  list: document.querySelector('.ingredients__list'),\n  notFoundText: document.querySelector('.ingredients__text'),\n};\n\nconst FAV_INGREDIENTS_KEY = 'favingr';\nlet favIngredients = [];\n\nexport function getFavoriteIngredients() {\n  return localFavorites.getLocal(FAV_INGREDIENTS_KEY);\n}\n\nexport function showFavoriteIngredients(ingredients) {\n  favIngredients = ingredients;\n  refs.list.innerHTML = '';\n\n  if (ingredients.length === 0) {\n    refs.notFoundText.classList.remove('is-hidden');\n  } else {\n    refs.notFoundText.classList.add('is-hidden');\n    refs.list.insertAdjacentHTML('beforeend', ingredientsMarkup(ingredients));\n    addOnClickEvents(\n      'button.ingredients__learn-more',\n      ingredients,\n      showIngredientDetails\n    );\n    addOnClickEvents(\n      'button.ingredients__favorite',\n      ingredients,\n      removeFromFavorites\n    );\n  }\n}\n\nfunction addOnClickEvents(selector, elements, callback) {\n  document.querySelectorAll(selector).forEach(elem => {\n    elem.addEventListener('click', e => {\n      const index = Number(e.target.parentNode.dataset.index);\n      callback(elements[index]);\n    });\n  });\n}\n\nfunction removeFromFavorites(ingredient) {\n    localFavorites.removeLocal(FAV_INGREDIENTS_KEY, ingredient);\n    const index = favIngredients.findIndex(elem => elem.idIngredient === ingredient.idIngredient);\n    if (index !== -1) {\n        favIngredients.splice(index, 1);\n        showFavoriteIngredients(favIngredients);\n    }\n}\n\nshowFavoriteIngredients(getFavoriteIngredients());\n","'use strict';\n\nimport * as icons from '../images/icons.svg';\n\nexport function ingredientsMarkup(ingredients) {\n  return ingredients\n    .map(\n      ({ strIngredient, strType }, index) =>\n        `<li class=\"ingredients__item\">\n            <h3 class=\"ingredients__name\">${strIngredient}</h3>\n            <p class=\"ingredients__type\">${strType}</p>\n            <div class=\"ingredients__buttons\" data-index=\"${index}\">\n                <button type=\"button\" class=\"ingredients__learn-more\" >\n                    Learn more\n                </button>\n                <button type=\"button\" class=\"ingredients__favorite\">\n                    <span class=\"ingredients__favorite-text\">Remove</span>\n                    <svg class=\"ingredients__favorite-icon\" width=\"18\" height=\"18\">\n                        <use class=\"ingredients__favorite-svg\" href=\"${icons}#icon-heart\"></use>\n                    </svg>\n                </button>\n            </div>\n            </li>`\n    ).join('');\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('gr994') + require('./helpers/bundle-manifest').resolve(\"410VS\");"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$aL5D8","$da7638ceaca0f0ad$export$ef84ea629dba8936","ingredients","map","param","index","strIngredient","strType","concat","$6db26c0d289419b8$exports","join","getBundleURL","resolve","$b1a0ba27da597af6$var$refs","list","document","querySelector","notFoundText","$b1a0ba27da597af6$var$FAV_INGREDIENTS_KEY","$b1a0ba27da597af6$var$favIngredients","$b1a0ba27da597af6$export$8eb2274701f85f95","innerHTML","classList","remove","add","insertAdjacentHTML","$b1a0ba27da597af6$var$addOnClickEvents","$iv9BY","showIngredientDetails","$b1a0ba27da597af6$var$removeFromFavorites","selector","elements","callback","querySelectorAll","forEach","elem","addEventListener","e","Number","target","parentNode","dataset","ingredient","localFavorites","removeLocal","findIndex","idIngredient","splice","getLocal"],"version":3,"file":"favingredients.26bb4bcf.js.map"}